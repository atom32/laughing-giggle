{% extends "base.html" %}

{% block title %}{{ _('Farmer Login') }} - {{ _('Farm Manager') }}{% endblock %}

{% block content %}
<h2>ğŸŒ± {{ _('Welcome Back, Farmer!') }}</h2>
<p>{{ _('Access your farm and tend to your crops') }}</p>

<form method="POST">
    <div class="form-group">
        <label for="username">ğŸ§‘â€ğŸŒ¾ {{ _('Farmer Name') }}:</label>
        <input type="text" id="username" name="username" required 
               title="{{ _('Please enter your farmer name') }}"
               placeholder="{{ _('Enter your farmer name') }}">
    </div>
    <div class="form-group">
        <label for="password">ğŸ”’ {{ _('Password') }}:</label>
        <input type="password" id="password" name="password" required 
               title="{{ _('Please enter your password') }}"
               placeholder="{{ _('Enter your password') }}">
    </div>
    <button type="submit">ğŸšœ {{ _('Enter Farm') }}</button>
</form>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const form = document.querySelector('form');
    const usernameInput = document.getElementById('username');
    const passwordInput = document.getElementById('password');
    
    // Custom validation messages
    usernameInput.addEventListener('invalid', function() {
        if (this.validity.valueMissing) {
            this.setCustomValidity('{{ _("Please enter your farmer name") }}');
        } else {
            this.setCustomValidity('');
        }
    });
    
    passwordInput.addEventListener('invalid', function() {
        if (this.validity.valueMissing) {
            this.setCustomValidity('{{ _("Please enter your password") }}');
        } else {
            this.setCustomValidity('');
        }
    });
    
    // Clear custom validity on input
    usernameInput.addEventListener('input', function() {
        this.setCustomValidity('');
    });
    
    passwordInput.addEventListener('input', function() {
        this.setCustomValidity('');
    });
});
</script>

<p style="margin-top: 20px;">
    {{ _('New to farming?') }} <a href="{{ url_for('register') }}" style="color: #4caf50; font-weight: bold;">{{ _('Start Your Farm Journey') }}</a>
</p>

<div class="card" style="margin-top: 30px; background-color: #fff8e1; border-left-color: #ffc107;">
    <h4>ğŸ”‘ {{ _('Default Admin Account') }}:</h4>
    <p><strong>{{ _('Username') }}:</strong> admin <strong>{{ _('Password') }}:</strong> admin123</p>
    <small style="color: #f57c00;">{{ _('Change this password after first login!') }}</small>
</div>
{% endblock %}